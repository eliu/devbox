require style config
# ----------------------------------------------------------------
# Logging message at info level
# ----------------------------------------------------------------
log::info() { echo $(style::green  "[INFO]") $@
}
# ----------------------------------------------------------------
# Logging message at warning level
# ----------------------------------------------------------------
log::warn() { echo $(style::yellow "[WARN] $@")
}
# ----------------------------------------------------------------
# Logging message at fatal level
# ----------------------------------------------------------------
log::fatal() { echo $(style::red "[FATA] $@"); exit 1
}
# ----------------------------------------------------------------
# Logging a verbose message
# ----------------------------------------------------------------
log::verbose() { 
  log::is_verbose_enabled && echo $(style::cyan "VERBOSE: $@") || true
}

# ----------------------------------------------------------------
# Lazy loading logging.level option
# ----------------------------------------------------------------
log::level() {
  config::get logging.level
}

# ----------------------------------------------------------------
# Check if we're in verbose mode or lower level logging
# ----------------------------------------------------------------
log::is_verbose_enabled() {
  [[ $(log::level) =~ debug|verbose ]]
}
# ----------------------------------------------------------------
# Check if we're in debug mode
# ----------------------------------------------------------------
log::is_debug_enabled() {
  [[ $(log::level) =~ debug ]]
}